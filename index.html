<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Math GPT Photosolve</title>

    <!--
      Bootstrap is pulled in from a CDN.  Including a CSS framework makes it
      easy to create a clean, responsive layout without writing lots of
      boilerplate.  If you'd like to swap this out for another framework or
      your own styles, simply remove these lines and update the markup
      accordingly.
    -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Q9sFVyAJoqzjeNTcrWw91eyu8b2CXZ2JhUnr/BCZUs1Y5V6qLkJe500J7DXEuSVZ"
      crossorigin="anonymous"
    />

    <!-- Custom stylesheet for tweaks specific to this project.  See
         static/css/style.css for details. -->
    <link rel="stylesheet" href="static/css/style.css" />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#" id="nav-home">Math GPT</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#" id="nav-dashboard">
                Dashboard
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" id="nav-pricing">Pricing</a>
            </li>
          </ul>
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item" id="nav-welcome" style="display: none"></li>
            <li class="nav-item">
              <a class="nav-link" href="#" id="nav-logout" style="display: none">Logout</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container my-4">
      <!-- Authentication section -->
      <div id="auth-section" class="row justify-content-center">
        <div class="col-md-6">
          <h2 class="text-center mb-4">Welcome to Math GPT</h2>
          <p class="text-muted text-center">
            Easily solve your math problems using our photo solver.  Create an
            account to get started.
          </p>
          <ul class="nav nav-tabs mb-3" id="authTabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button
                class="nav-link active"
                id="login-tab"
                data-bs-toggle="tab"
                data-bs-target="#login-pane"
                type="button"
                role="tab"
                aria-controls="login-pane"
                aria-selected="true"
              >
                Login
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="register-tab"
                data-bs-toggle="tab"
                data-bs-target="#register-pane"
                type="button"
                role="tab"
                aria-controls="register-pane"
                aria-selected="false"
              >
                Register
              </button>
            </li>
          </ul>
          <div class="tab-content" id="authTabsContent">
            <!-- Login form -->
            <div
              class="tab-pane fade show active"
              id="login-pane"
              role="tabpanel"
              aria-labelledby="login-tab"
            >
              <form id="login-form">
                <div class="mb-3">
                  <label for="login-email" class="form-label">Email address</label>
                  <input
                    type="email"
                    class="form-control"
                    id="login-email"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="login-password" class="form-label">Password</label>
                  <input
                    type="password"
                    class="form-control"
                    id="login-password"
                    required
                  />
                </div>
                <div class="d-grid">
                  <button type="submit" class="btn btn-primary">Login</button>
                </div>
                <div class="mt-3 text-center text-danger" id="login-error" style="display: none"></div>
              </form>
            </div>
            <!-- Registration form -->
            <div
              class="tab-pane fade"
              id="register-pane"
              role="tabpanel"
              aria-labelledby="register-tab"
            >
              <form id="register-form">
                <div class="mb-3">
                  <label for="register-name" class="form-label">Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="register-name"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="register-email" class="form-label">Email address</label>
                  <input
                    type="email"
                    class="form-control"
                    id="register-email"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="register-password" class="form-label">Password</label>
                  <input
                    type="password"
                    class="form-control"
                    id="register-password"
                    minlength="6"
                    required
                  />
                </div>
                <div class="d-grid">
                  <button type="submit" class="btn btn-success">Register</button>
                </div>
                <div class="mt-3 text-center text-danger" id="register-error" style="display: none"></div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Pricing/Subscription section -->
      <div id="pricing-section" class="row justify-content-center" style="display: none">
        <div class="col-md-8">
          <h2 class="text-center mb-4">Choose a Subscription</h2>
          <p class="text-center text-muted">
            Unlock unlimited photo solves and access to all current and future GPT models.
          </p>
          <div class="row">
            <!-- Free trial card -->
            <div class="col-md-4 mb-3">
              <div class="card h-100">
                <div class="card-body text-center d-flex flex-column">
                  <h5 class="card-title">Free Trial</h5>
                  <p class="card-text flex-grow-1">
                    Try Math GPT for free.  You can solve up to 3 problems without paying.
                  </p>
                  <button id="free-trial-btn" class="btn btn-outline-primary mt-auto">
                    Use Free Trial
                  </button>
                </div>
              </div>
            </div>
            <!-- Monthly subscription card -->
            <div class="col-md-4 mb-3">
              <div class="card h-100">
                <div class="card-body text-center d-flex flex-column">
                  <h5 class="card-title">Monthly</h5>
                  <p class="card-text flex-grow-1">
                    Pay monthly and enjoy unlimited photo solves.  Cancel anytime.
                  </p>
                  <h4 id="monthly-price" class="mb-3"></h4>
                  <button id="monthly-btn" class="btn btn-primary mt-auto">
                    Subscribe Monthly
                  </button>
                </div>
              </div>
            </div>
            <!-- Annual subscription card -->
            <div class="col-md-4 mb-3">
              <div class="card h-100">
                <div class="card-body text-center d-flex flex-column">
                  <h5 class="card-title">Annual</h5>
                  <p class="card-text flex-grow-1">
                    Save by paying yearly.  Access all models for 12 months.
                  </p>
                  <h4 id="annual-price" class="mb-3"></h4>
                  <button id="annual-btn" class="btn btn-primary mt-auto">
                    Subscribe Annually
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="text-center mt-4">
            <button id="back-to-dashboard" class="btn btn-secondary">Back</button>
          </div>
        </div>
      </div>

      <!-- Dashboard / solver section -->
      <div id="dashboard-section" style="display: none">
        <div class="row">
          <div class="col-md-12 text-center mb-4">
            <h2>Photo Solver</h2>
            <p class="text-muted">Upload a clear image of your math problem and let our AI work its magic.</p>
          </div>
        </div>
        <div class="row justify-content-center">
          <div class="col-md-6">
            <div class="mb-3">
              <input class="form-control" type="file" id="upload-input" accept="image/*" />
            </div>
            <div class="mb-3 text-center">
              <button id="solve-btn" class="btn btn-success" disabled>Recognize & Solve</button>
            </div>
            <div id="progress-container" class="progress my-3" style="height: 20px; display: none">
              <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%"></div>
            </div>
            <div id="result" class="alert alert-secondary" style="display: none"></div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-light py-3 mt-4">
      <div class="container text-center">
        <span class="text-muted">&copy; <span id="year-span"></span> Math GPT. All rights reserved.</span>
      </div>
    </footer>

    <!-- Bootstrap JS bundle -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MRCFDaNUJA0iu95zZ2ShUlYFFP/Sn4/LoZG7n5Xr6XgHCOTLpRwvuPlYvZGp/972"
      crossorigin="anonymous"
    ></script>

    <!-- Paystack inline script -->
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <!-- Tesseract.js for OCR -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5.1.1/dist/tesseract.min.js"></script>
    <!-- Nerdamer for solving equations -->
    <script src="https://cdn.jsdelivr.net/npm/nerdamer@1.1.13/all.min.js"></script>
    <!-- Main app logic -->
    <script src="static/js/app.js"></script>
  </body>
</html>
